# 内容生成器

一个简洁的Python内容生成工具集，支持多种类型的内容生成。

## 功能特点

- 🎯 **话题生成**: 基于AI角色人设生成不重复的话题内容
- 🖼️ **图片描述生成**: 基于ImageRecognitionWorkflow编号系统的AI图片识别与描述
- 🎯 **内容匹配生成**: 将任何内容描述转换为相关查询词条，支持向量搜索匹配
- 😄 **笑话生成**: (开发中)
- 🧠 **记忆生成**: (开发中)
- 💾 **SQLite存储**: 自动保存生成的内容
- 🚀 **交互式界面**: 简洁的命令行交互

## 快速开始

```bash
cd content_generator
python main.py
```

## 项目结构

```
content_generator/
├── main.py                 # 主启动器
├── generators/            # 生成器模块
│   ├── __init__.py
│   ├── topic_generator.py # 话题生成器
│   ├── image_description_generator.py # 图片描述生成器
│   └── content_matcher.py # 内容匹配生成器
├── utils/                 # 工具类
│   ├── __init__.py
│   └── numbering_system.py # 编号系统工具类
├── resources/             # 资源文件夹
│   ├── images/           # 图片资源
│   │   ├── 穆昭/        # 穆昭角色图片
│   │   │   ├── 交通工具/
│   │   │   ├── 做手工/
│   │   │   ├── 娱乐/
│   │   │   ├── 美食/
│   │   │   └── ...      # 其他分类目录
│   │   └── 方知衡/      # 方知衡角色图片
│   │       ├── 通用/
│   │       ├── 风景修/
│   │       ├── 美食修/
│   │       └── ...      # 其他分类目录
│   └── texts/            # 文本资源
├── data/                  # 数据存储
│   ├── topics.db         # 话题数据库
│   ├── image_descriptions.db # 图片描述数据库
│   └── content_matches.db # 内容匹配数据库
├── output/               # 输出文件
│   └── *.csv            # 导出的CSV文件
└── README.md
```

## 话题生成器

支持以下分类:
- 娱乐八卦
- 科技数码
- 生活时尚
- 美食旅游
- 体育健身
- 教育学习

## 图片描述生成器

基于ImageRecognitionWorkflow的编号系统，支持:
- **自动编号**: 继承ImageRecognitionWorkflow的分类编号系统
- **角色分类**: 支持穆昭、方知衡等角色的图片分类
- **AI描述**: 使用豆包视觉模型生成图片标题和详细描述
- **批量处理**: 自动扫描角色目录下的所有图片
- **目录管理**: 自动创建角色分类目录结构
- **CSV导出**: 生成包含编号、路径、标题、描述的CSV文件
- **编号管理**: 支持查看和重置分类编号状态

### 使用说明

1. **准备图片**: 将图片放入 `resources/images/角色名/分类名/` 目录中
2. **运行程序**: 选择菜单选项2启动图片描述生成器
3. **选择角色**: 选择要处理的角色（穆昭或方知衡）
4. **目录检查**: 系统会自动创建或检查分类目录结构
5. **编号管理**: 可查看当前编号状态，可选择重置某分类的起始编号
6. **批量处理**: 系统自动扫描并处理所有图片
7. **结果导出**: 生成CSV文件包含编号、标题、描述等信息

### 支持的角色和分类

**穆昭** (100系列编号):
- 交通工具 (101)、做手工 (102)、娱乐 (103)、学习 (104)
- 宠物 (105)、工作 (106)、植物 (107)、生病吃药 (108)
- 美食系列 (109-112)、节日 (113)、购物 (114)、运动 (115)、风景 (116)

**方知衡** (200系列编号):
- 通用 (200)、风景修 (201)、美食修 (202)、动物修 (203)
- 动物 (204)、在干嘛 (205)、工作 (206)、植物 (207)
- 生活 (208)、生活2 (209)、美食 (210)、节日 (211)、风景 (212)

## 内容匹配生成器

基于LLM的通用内容匹配工具，将任何内容描述转换为相关查询词条，支持向量搜索匹配：

### 功能特点
- **智能词条生成**: 将任何内容描述转换为相关查询词条
- **多种输入模式**: 支持单个内容、批量输入、CSV文件导入
- **自然语言处理**: 生成符合用户搜索习惯的词条
- **同义词扩展**: 包含同义词、近义词、相关表达
- **批量处理**: 高效处理大量内容
- **CSV导出**: 生成包含原内容和查询词条的CSV文件
- **数据库存储**: SQLite存储匹配记录

### 使用说明

1. **单个内容匹配**: 输入单个内容描述，生成对应查询词条
2. **批量内容匹配**: 逐行输入多个内容，批量生成词条
3. **CSV文件导入**: 从CSV文件导入内容列表进行批量处理

### 生成示例

```
输入内容：一只黑猫竖着两个大拇指表示很赞
生成词条：点赞|赞同|支持|认可|好评|棒|厉害|优秀|不错|满意|推荐|称赞

输入内容：白色仓鼠露出惊讶表情
生成词条：惊讶|震惊|意外|不敢相信|吃惊|诧异|惊奇|疑惑|困惑|疑问|什么|真的吗
```

## 扩展开发

添加新的生成器:
1. 在 `generators/` 目录下创建新模块
2. 实现 `run()` 方法
3. 在 `main.py` 中注册

添加新的工具类:
1. 在 `utils/` 目录下创建新模块
2. 遵循项目的命名和架构规范

## 依赖

- Python 3.7+
- sqlite3 (内置)
- requests (用于API调用)
- pathlib (内置)

## 配置要求

确保在 `config.py` 中正确配置:
- 豆包API密钥 (用于图片识别)
- 其他LLM提供商配置 (如需要)