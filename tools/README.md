# SQLiteå·¥å…·ä½¿ç”¨è¯´æ˜

## âœ… æ‚¨è¯´å¾—å¯¹ï¼SQLiteä¸éœ€è¦å¯åŠ¨æœåŠ¡

SQLiteæ˜¯**åµŒå…¥å¼æ•°æ®åº“**ï¼Œç›´æ¥ä»¥æ–‡ä»¶å½¢å¼å­˜å‚¨ï¼Œä¸éœ€è¦å¯åŠ¨ä»»ä½•æœåŠ¡ã€‚

## ğŸ“ ä¸ºæ‚¨å‡†å¤‡çš„æ–‡ä»¶

### 1. å·¥å…·æ–‡ä»¶ï¼ˆå·²å°±ç»ªï¼‰
- **`tools/sqlite_tool.py`** - SQLiteå·¥å…·ä¸»æ–‡ä»¶
- **`tools/sqlite_tool_config.json`** - å·¥å…·é…ç½®æ–‡ä»¶ï¼ˆæ‚¨ç›´æ¥å¯¼å…¥è¿™ä¸ªï¼‰

### 2. æ•°æ®åº“æ–‡ä»¶ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
- **`dify_workflow_data.db`** - æ•°æ®åº“æ–‡ä»¶å°†è‡ªåŠ¨åˆ›å»ºåœ¨é¡¹ç›®æ ¹ç›®å½•

## ğŸš€ ä½¿ç”¨æ­¥éª¤

### ç¬¬1æ­¥ï¼šå¯¼å…¥å·¥å…·åˆ°Dify
1. æ‰“å¼€Difyç®¡ç†åå°
2. è¿›å…¥"å·¥å…·"é¡µé¢
3. ç‚¹å‡»"å¯¼å…¥å·¥å…·"æˆ–"æ·»åŠ å·¥å…·"
4. **ä¸Šä¼ æ–‡ä»¶**ï¼š`tools/sqlite_tool_config.json`
5. ç¡®è®¤å¯¼å…¥æˆåŠŸ

### ç¬¬2æ­¥ï¼šä½¿ç”¨å·¥å…·
å¯¼å…¥æˆåŠŸåï¼Œæ‚¨çš„å·¥ä½œæµä¸­å°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·ï¼š

- **`insert_data`** - æ’å…¥æ•°æ®
- **`query_data`** - æŸ¥è¯¢æ•°æ®  
- **`get_table_stats`** - è·å–è¡¨ä¿¡æ¯

## ğŸ“Š é¢„è®¾æ•°æ®è¡¨

å·¥å…·ä¼š**è‡ªåŠ¨åˆ›å»º**ä»¥ä¸‹æ•°æ®è¡¨ï¼š

### topicsè¡¨ï¼ˆè¯é¢˜ä¸“ç”¨ï¼‰
```sql
id, type, topic, content, search_keywords, created_at, updated_at, status, metadata
```

### workflow_dataè¡¨ï¼ˆé€šç”¨æ•°æ®ï¼‰
```sql
id, workflow_name, data_type, title, content, tags, metadata, created_at, updated_at, status
```

### operation_logsè¡¨ï¼ˆæ“ä½œæ—¥å¿—ï¼‰
```sql
id, operation_type, table_name, record_id, details, created_at, workflow_name
```

## ğŸ¯ åœ¨DSLä¸­ä½¿ç”¨ç¤ºä¾‹

```yaml
- data:
    desc: ä¿å­˜è¯é¢˜åˆ°æ•°æ®åº“
    provider_id: sqlite_database_tool
    provider_type: builtin
    title: SQLiteå­˜å‚¨
    tool_configurations:
      insert_data:
        table: topics
        data: "{{#previous_node.json_data#}}"
    tool_name: insert_data
    type: tool
```

## âœ… æµ‹è¯•ç»“æœ

å·¥å…·å·²é€šè¿‡æµ‹è¯•ï¼š
- âœ… æ•°æ®åº“è‡ªåŠ¨åˆ›å»º
- âœ… è¡¨ç»“æ„æ­£ç¡®
- âœ… æ’å…¥æ•°æ®æˆåŠŸ
- âœ… æŸ¥è¯¢æ•°æ®æ­£å¸¸
- âœ… ç»Ÿè®¡ä¿¡æ¯å‡†ç¡®

## ğŸ’¡ é‡è¦æé†’

1. **æ•°æ®åº“ä½ç½®**ï¼š`dify_workflow_data.db` å°†åœ¨é¡¹ç›®æ ¹ç›®å½•è‡ªåŠ¨åˆ›å»º
2. **æ— éœ€æœåŠ¡**ï¼šSQLiteæ˜¯æ–‡ä»¶æ•°æ®åº“ï¼Œä¸éœ€è¦å¯åŠ¨ä»»ä½•æœåŠ¡
3. **è‡ªåŠ¨åˆå§‹åŒ–**ï¼šé¦–æ¬¡ä½¿ç”¨æ—¶è‡ªåŠ¨åˆ›å»ºæ‰€æœ‰è¡¨ç»“æ„
4. **çº¿ç¨‹å®‰å…¨**ï¼šæ”¯æŒå¤šä¸ªå·¥ä½œæµåŒæ—¶ä½¿ç”¨
5. **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

ç°åœ¨æ‚¨åªéœ€è¦ï¼š
1. å°† `tools/sqlite_tool_config.json` å¯¼å…¥åˆ°Dify
2. åœ¨å·¥ä½œæµä¸­ä½¿ç”¨SQLiteå·¥å…·
3. æ•°æ®ä¼šè‡ªåŠ¨ä¿å­˜åˆ°SQLiteæ•°æ®åº“æ–‡ä»¶ä¸­ï¼